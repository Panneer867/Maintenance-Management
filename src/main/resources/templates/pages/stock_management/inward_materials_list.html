<html lang="en" xmlns:th="http://www.thymeleaf.org" th:replace="base::layout(~{::section})">

<body>
	<section>
		<h3 class="text-center text-white mt-2 p-1 bg-primary">Inward Materials List
		</h3>
		<div class="row mt-2">
			<div class="col-6" dir="ltr">
				<nav aria-label="breadcrumb">
					<ol class="default-breadcrumb">
						<li class="crumb">
							<div class="link"><a th:href="@{/stocks/dashboard}" class="fa fa-home pt-1"></a></div>
						</li>

						<li class="crumb">
							<div class="link"><a th:href="@{/stocks/inward/material}">Inward Material</a></div>
						</li>

						<li class="crumb active">
							<div class="link"><span aria-current="location">Inward Full List</span></div>
						</li>
					</ol>
				</nav>
			</div>
			<div class="col-6">
				<ul class="nav nav-pills justify-content-end py-1 mb-2" id="pills-tab" role="tablist">
					<li class="nav-item" role="presentation">

						<a class="nav-link py-2 w-100 px-2 text-white hvr bg-dark" th:href="@{/stocks/inward/material}">
							Inward Entry
						</a>
					</li>
					<li class="nav-item" role="presentation">
						<a class="nav-link py-2 w-100 px-2 text-white hvr bg-dark"
							th:href="@{/stocks/inward/material/chart}">
							Inward Chart
						</a>
					</li>
					<li class="nav-item" role="presentation">
						<a class="nav-link py-2 w-100 px-2 text-white hvr bg-dark"
							th:href="@{/stocks/inward/material/bundles}">
							Inward Bundles
						</a>
					</li>
					<li class="nav-item" role="presentation">
						<a class="nav-link py-2 w-100 px-2 text-white hvr active-tab bg-dark"
							th:href="@{/stocks/inward/material/list}">
							Inward Full List
						</a>
					</li>

				</ul>
			</div>
		</div>
		<div th:if="${session.message}" class="alert_field">
			<div class="alert text-center py-1" th:classappend="${'alert-'+session.message.type}" role="alert">
				<span th:text="${session.message.content}"></span>
			</div>
			<th:block th:text="${#session.removeAttribute('message')}"></th:block>
		</div>
		<table
			class="table table-stock table-bordered table table-success table-striped table-hover mytable w-100 mt-4">
			<thead class="table-dark">
				<tr>
					<th class="all">ID</th>
					<th class="all">Category</th>
					<th class="all">Item</th>
					<th class="all">Image</th>
					<th class="all">Supplier</th>
					<th class="all">Brand</th>
					<th class="all">HSN</th>
					<th class="all">Unit(M)</th>
					<th class="all">Qty</th>
					<th class="all">Cost</th>
					<th class="all">MRP</th>
					<th class="all">Total </th>
					<th class="all">Entry </th>
					<th class="all">Actions</th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="materialsList: ${materialsLists}">
					<td th:text="${materialsList.itemId}"></td>
					<td th:text="${materialsList.categoryName}"></td>
					<td th:text="${materialsList.itemName}"></td>
					<td class="text-center img-box"
						th:attr="onclick=|viewImg('${materialsList.imagePath}${materialsList.materialImage}')|"
						data-toggle="modal" data-target="#imgModal">
						<img th:src="@{${materialsList.imagePath} + ${materialsList.materialImage}}" alt="image" />
					</td>
					<td th:text="${materialsList.supplierName}"></td>
					<td th:text="${materialsList.brand}"></td>
					<td th:text="${materialsList.hsnCode}"></td>

					<td th:text="${materialsList.unitOfMeasure}"></td>
					<td th:text="${materialsList.totalQuantity}"></td>
					<td>&#8377;<label class="px-1" th:text="${materialsList.costRate}"></label></td>
					<td>&#8377;<label class="px-1" th:text="${materialsList.mrp}"></label></td>
					<td>&#8377;<label class="px-1" th:text="${materialsList.totalAmount}"></label></td>
					<td th:text="${materialsList.entryDate}"></td>

					<td class="text-center"><button
							th:onclick="|deleteId('/stocks/inward/material/list/delete/?id=${materialsList.materialId}')|"
							class="btn btn-danger p-1 mx-2" data-toggle="modal" data-target="#delInwardItem"
							data-bs-toggle="tooltip" data-bs-placement="top" title="Remove Item"><span
								class="glyphicon glyphicon-trash"></span></button>
					</td>
				</tr>
			</tbody>
		</table>
		<div class="modal fade" id="delInwardItem" tabindex="-1" role="dialog" aria-labelledby="delInwardItem"
			aria-hidden="true">
			<div class="modal-dialog" role="document" style="margin-top: 180px;">
				<div class="modal-content">
					<div class="modal-header p-2">
						<h4>Remove Item</h4>
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
					<div class="modal-body">
						Are you sure, you want to remove this Item from the list?
					</div>
					<div class="modal-footer p-2">
						<a href="" class="btn btn-sm btn-danger" id="delRef">Yes, Remove</a>
						<button type="button" class="btn btn-sm btn-light" data-dismiss="modal">Cancel</button>
					</div>
				</div>
			</div>
		</div>
		<div class="modal fade" id="imgModal" tabindex="-1" role="dialog" aria-labelledby="imgModal" aria-hidden="true">
			<div class="modal-dialog modal-lg" role="document" style="margin-top: 70px;">
				<div class="modal-content">
					<div class="modal-header p-2">
						<h4 class="mx-auto">Material Image</h4>
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
					<div class="modal-body p-1">
						<img th:id="viewRef" width="794" alt="image" />
					</div>
				</div>
			</div>
		</div>


	</section>
</body>

</html>